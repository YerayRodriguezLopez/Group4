@page
@model RazorPage.Pages.RegisterModel
@{
	ViewData["Title"] = "Sign up";  
}


<h2>Create an account</h2>  

@if (TempData["SuccessMessage"] != null)
{
                <div class="alert alert-success alert-dismissible fade show" role="alert">
        @TempData["SuccessMessage"]
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>

                <script>
                    document.addEventListener('DOMContentLoaded', function () {
                        setTimeout(function () {
                            window.location.href = '/Login';
                        }, 2500);
                    });
                </script>
}

<div asp-validation-summary="ModelOnly" class="text-danger" role="alert"></div>  

<form method="post" id="registerForm">  
   <div class="form-floating mb-3">  
       <input asp-for="User.UserName" class="form-control" aria-required="true" placeholder=""/>  
       <label asp-for="User.UserName"></label>      
       <span asp-validation-for="User.UserName" class="text-danger"></span>  
   </div>  
   <div class="form-floating mb-3">  
       <input asp-for="User.Email" class="form-control" aria-required="true" placeholder="" />  
       <label asp-for="User.Email"></label>  
       <span asp-validation-for="User.Email" class="text-danger"></span>  
   </div>  
   <div class="form-floating mb-3">  
        <input asp-for="User.PhoneNumber" type="tel" class="form-control" aria-required="true" placeholder="" pattern="[0-9]*" inputmode="numeric" maxlength="10" />  
        <label asp-for="User.PhoneNumber"></label>  
        <span asp-validation-for="User.PhoneNumber" class="text-danger"></span>  
    </div>

   <div class="form-floating mb-3">  
       <input asp-for="User.Password" class="form-control" autocomplete="new-password" aria-required="true" placeholder="" />  
       <label asp-for="User.Password"></label>  
       <span asp-validation-for="User.Password" class="text-danger"></span>  
   </div>  

   <div class="form-floating mb-3">  
       <input asp-for="User.ConfirmationPassword" class="form-control" autocomplete="new-password" aria-required="true" placeholder="" />  
       <label asp-for="User.ConfirmationPassword"></label>  
       <span asp-validation-for="User.ConfirmationPassword" class="text-danger"></span>  
   </div>  
   <br>  

   <button type="submit" class="btn btn-primary">Sign up</button>  
</form>  

@section Scripts {
        <script>
            document.getElementById('registerForm').addEventListener('keydown', function(event) {
                if (event.key === 'Enter') {
                    event.preventDefault();
                }
            });
        </script>
}